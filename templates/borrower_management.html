<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Library Catalog</title>
    <!-- Link to External CSS -->
    <link rel="stylesheet" href="/static/css/styles.css" />
</head>

<body>
    <!-- borrower_management.html -->
    <div>
        <nav class="navbar">
        <div class="container nav-container">
            <a href="#" class="nav-logo">Library System</a>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link active">Home</a></li>
                <li><a href="/borrower_management" class="nav-link">Borrower Management</a></li>
                <li><a href="/book_management" class="nav-link">Book Management</a></li>
                <li><a href="#" class="nav-link">Loans & Transactions</a></li>
            </ul>
        </div>
    </nav>
        <h2>Search Borrower</h2>
        <input type="number" id="borrowerIdInput" placeholder="Enter borrower Id" />
        <button id="searchBorrowerBtn">Search</button>

        <section id="addBorrowerSection">
        <h2>Add New Borrower</h2>
        <form id="addBorrowerForm">
            <label>Name: <input type="text" id="newBorrowerName" required></label><br/>
            <label>Email: <input type="email" id="newBorrowerEmail" required></label><br/>
            <label>Phone: <input type="text" id="newBorrowerPhone"></label><br/>
            <label>Address: <input type="text" id="newBorrowerAddress"></label><br/>
            <label>Category:
                <select id="newBorrowerCategory" required>
                    <option value="">--Select Category--</option>
                    <option value="Student">Student</option>
                    <option value="Faculty">Faculty</option>
                    <option value="Visitor">Visitor</option>
                    <option value="Researcher">Researcher</option>
                </select>
                </label><br/>

            <label>Department ID (optional): <input type="number" id="newBorrowerDeptId"></label><br/>
            <button type="submit">Add Borrower</button>
        </form>
    </section>

    </div>

    <div id="borrowerDetails" style="display:none; margin-top:20px;">
        <h3>Borrower Details</h3>

        <!-- Display current info -->
        <p><strong>Name:</strong> <span id="borrowerNameDisplay"></span></p>
        <p><strong>Email:</strong> <span id="borrowerEmailDisplay"></span></p>
        <p><strong>Phone:</strong> <span id="borrowerPhoneDisplay"></span></p>
        <p><strong>Department:</strong> <span id="borrowerDepartmentDisplay"></span></p>
        <p><strong>Registered On:</strong> <span id="borrowerRegistered"></span></p>

        <h4>Edit Borrower Info</h4>
        <form id="editBorrowerForm">
            <label>
                Name:
                <input type="text" id="borrowerName" />
            </label><br/>
            <label>
                Email:
                <input type="email" id="borrowerEmail" />
            </label><br/>
            <label>
                Phone:
                <input type="text" id="borrowerPhone" />
            </label><br/>
            <label>
                Department:
                <input type="text" id="borrowerDepartment" />
            </label><br/>
            <button type="button" id="editBorrowerBtn">Save Changes</button>
        </form>

        <h4>Current Loans</h4>
        <table id="currentLoansTable">
            <thead>
            <tr>
                <th>Book Title</th>
                <th>Issue Date</th>
                <th>Due Date</th>
                <th>Status</th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>

        <h4>Fines</h4>
        <p><strong>Total Fines Due:</strong> â‚¹<span id="totalFines"></span></p>

        <h5>Fine Payment History</h5>
        <ul id="finePaymentHistory"></ul>
        <hr /> 
        <section id="finePaymentSection" style="margin-top: 30px;">
            <h3>Record Fine Payment</h3>
            <form id="finePaymentForm">
                <label>
                    Loan ID:
                    <input type="number" id="fineLoanId" required />
                </label><br/>
                <label>
                    Amount:
                    <input type="number" id="fineAmount" step="0.01" required />
                </label><br/>
                <label>
                    Payment Method:
                    <input type="text" id="finePaymentMethod" />
                </label><br/>
                <button type="button" id="recordFinePaymentBtn">Submit Payment</button>
            </form>
        </section>
    </div>

<script src="/static/js/borrow_management.js"></script>
</body>
</html>
